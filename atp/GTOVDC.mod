MODEL GTOVDC -- 6 character name limit
INPUT i1
OUTPUT o1,o2,o3
VAR o1,o2,o3
  F1_w1[1..20] -- weighted inputs
  F1_b1[1..20] -- biased inputs
  F1_th[1..20] -- activation functions
  F1_w2[1..20] -- weighted outputs
  F2_w1[1..20] -- weighted inputs
  F2_b1[1..20] -- biased inputs
  F2_th[1..20] -- activation functions
  F2_w2[1..20] -- weighted outputs
CONST
  F1_n0b[1..20] {val:[0.59563,
      0.49830,
      0.55523,
      0.14877,
      0.62570,
      -0.73804,
      -0.07553,
      -0.06750,
      -0.38215,
      0.29731,
      0.71219,
      -0.53351,
      -0.47147,
      -0.36418,
      0.67875,
      -0.74560,
      0.81906,
      -0.48613,
      -0.12875,
      -0.09919]}
  F1_n0w[1..20] {val:[-0.89252,
      0.15588,
      1.14630,
      -0.85032,
      -0.00653,
      0.56245,
      0.36164,
      -0.93137,
      0.33729,
      0.72829,
      -0.53990,
      0.75541,
      -0.65102,
      -0.26332,
      0.71248,
      0.18563,
      -0.98482,
      0.69318,
      0.79396,
      0.72157]}
  F1_n2b {val:0.20958}
  F1_n2w[1..20] {val:[-0.19467,
      0.24070,
      0.13970,
      -0.30323,
      -0.03945,
      0.05765,
      0.18262,
      -0.29679,
      0.06440,
      0.01739,
      -0.05108,
      0.19656,
      -0.16758,
      -0.19983,
      0.12838,
      0.02986,
      -0.20387,
      0.11110,
      0.31400,
      0.16762]}
  G1_a[1..9] {val:[1.00000,
      -0.06079,
      -0.10557,
      -0.12868,
      -0.14012,
      -0.06312,
      -0.07138,
      0.04769,
      0.04944]}
  G1_b[1..9] {val:[0.00000,
      0.38201,
      0.02392,
      0.00851,
      -0.00934,
      -0.01853,
      0.02427,
      -0.03796,
      0.12664]}
  F2_n0b[1..20] {val:[-0.53271,
      0.54280,
      0.50813,
      0.40371,
      0.93053,
      0.11009,
      -0.05839,
      -0.67129,
      -0.28591,
      0.32632,
      -0.70177,
      0.32177,
      -0.25221,
      -0.79085,
      -0.09703,
      -0.36175,
      0.91985,
      -0.50802,
      0.98374,
      0.51633]}
  F2_n0w[1..20] {val:[-0.12662,
      1.07409,
      1.27919,
      -0.50426,
      -0.99970,
      -0.13797,
      -0.66810,
      0.66382,
      0.82960,
      0.64391,
      -0.24187,
      -1.14630,
      0.25297,
      -0.23100,
      0.17947,
      -0.59091,
      0.04783,
      0.61614,
      0.79673,
      0.87121]}
  F2_n2b {val:-0.02295}
  F2_n2w[1..20] {val:[0.16451,
      0.06689,
      0.06503,
      -0.25894,
      0.04498,
      0.04670,
      -0.13975,
      0.05745,
      0.05592,
      0.20127,
      -0.17401,
      -0.08129,
      0.08494,
      0.04681,
      0.24192,
      -0.27322,
      0.07282,
      0.11281,
      -0.04575,
      0.02873]}
HISTORY o2 {dflt:0}
INIT
  F1_w1[1..20] := 0
  F1_b1[1..20] := 0
  F1_th[1..20] := 0
  F1_w2[1..20] := 0
  F2_w1[1..20] := 0
  F2_b1[1..20] := 0
  F2_th[1..20] := 0
  F2_w2[1..20] := 0
  o1 := 0
  o3 := 0
ENDINIT
EXEC
-- F1 block
  F1_w1[1..20] := i1 * F1_n0w[1..20]
  F1_b1[1..20] := F1_w1[1..20] + F1_n0b[1..20]
  F1_th[1..20] := tanh(F1_b1[1..20])
  FOR i:=1 to 20 DO F1_w2[i] := F1_th[i] * F1_n2w[i] ENDFOR
  o1 := F1_n2b
  FOR i:=1 to 20 DO o1 := o1 + F1_w2[i] ENDFOR
-- G1 block
  czfun(o2/o1) :=
 (G1_b[1]|z0+
      G1_b[2]|z-1+
      G1_b[3]|z-2+
      G1_b[4]|z-3+
      G1_b[5]|z-4+
      G1_b[6]|z-5+
      G1_b[7]|z-6+
      G1_b[8]|z-7+
      G1_b[9]|z-8)
  /
 (G1_a[1]|z0+
      G1_a[2]|z-1+
      G1_a[3]|z-2+
      G1_a[4]|z-3+
      G1_a[5]|z-4+
      G1_a[6]|z-5+
      G1_a[7]|z-6+
      G1_a[8]|z-7+
      G1_a[9]|z-8)
-- F2 block
  F2_w1[1..20] := o2 * F2_n0w[1..20]
  F2_b1[1..20] := F2_w1[1..20] + F2_n0b[1..20]
  F2_th[1..20] := tanh(F2_b1[1..20])
  FOR i:=1 to 20 DO F2_w2[i] := F2_th[i] * F2_n2w[i] ENDFOR
  o3 := F2_n2b
  FOR i:=1 to 20 DO o3 := o3 + F2_w2[i] ENDFOR
ENDEXEC
ENDMODEL
