MODEL TTOVDC -- 6 character name limit
INPUT i1
OUTPUT o1,o2,o3
VAR o1,o2,o3
  F1_w1[1..20] -- weighted inputs
  F1_b1[1..20] -- biased inputs
  F1_th[1..20] -- activation functions
  F1_w2[1..20] -- weighted outputs
  F2_w1[1..20] -- weighted inputs
  F2_b1[1..20] -- biased inputs
  F2_th[1..20] -- activation functions
  F2_w2[1..20] -- weighted outputs
CONST
  F1_n0b[1..20] {val:[0.52708,
      0.49998,
      0.61350,
      0.17047,
      0.63592,
      -0.61793,
      -0.07920,
      -0.04192,
      -0.36807,
      0.43437,
      0.51059,
      -0.47457,
      -0.43835,
      -0.35567,
      0.71627,
      -0.74676,
      0.71496,
      -0.43699,
      -0.14763,
      -0.12335]}
  F1_n0w[1..20] {val:[-1.10161,
      0.36677,
      1.35859,
      -1.08096,
      -0.21411,
      0.78995,
      0.59791,
      -1.15794,
      0.54695,
      1.06343,
      -0.86013,
      0.96457,
      -0.86633,
      -0.47927,
      0.92469,
      0.39159,
      -1.19233,
      0.92342,
      1.02502,
      0.98288]}
  F1_n2b {val:0.21669}
  F1_n2w[1..20] {val:[-0.25703,
      0.26091,
      0.25215,
      -0.49330,
      -0.03875,
      0.13791,
      0.34996,
      -0.50749,
      0.13937,
      0.13960,
      -0.13502,
      0.25437,
      -0.29797,
      -0.32815,
      0.22201,
      0.03961,
      -0.24735,
      0.17233,
      0.51063,
      0.37035]}
  G1_a[1..3] {val:[1.00000,
      -0.62472,
      -0.17919]}
  G1_b[1..3] {val:[0.00000,
      0.15920,
      -0.18640]}
  F2_n0b[1..20] {val:[0.82502,
      0.48179,
      -0.05646,
      -0.90377,
      0.10003,
      -0.31862,
      -0.22699,
      -0.46881,
      -0.11019,
      0.54375,
      0.98923,
      0.82460,
      -0.53090,
      0.68277,
      0.67192,
      0.38904,
      0.95593,
      0.05866,
      -0.19057,
      -0.51316]}
  F2_n0w[1..20] {val:[1.67727,
      -0.20955,
      0.42694,
      -0.90664,
      0.55231,
      0.42874,
      -1.46997,
      0.03050,
      0.68819,
      0.53754,
      -0.01204,
      0.03077,
      -0.92626,
      1.54680,
      1.81052,
      -0.55740,
      -0.05628,
      -0.37434,
      -0.73771,
      0.22641]}
  F2_n2b {val:0.00628}
  F2_n2w[1..20] {val:[-0.13797,
      0.11777,
      -0.22439,
      0.04926,
      -0.11868,
      -0.20482,
      0.22100,
      -0.12552,
      0.12889,
      -0.10404,
      0.24707,
      0.15832,
      0.25732,
      -0.09907,
      -0.15442,
      -0.15810,
      0.11218,
      0.21832,
      0.04730,
      -0.03820]}
HISTORY o2 {dflt:0}
INIT
  F1_w1[1..20] := 0
  F1_b1[1..20] := 0
  F1_th[1..20] := 0
  F1_w2[1..20] := 0
  F2_w1[1..20] := 0
  F2_b1[1..20] := 0
  F2_th[1..20] := 0
  F2_w2[1..20] := 0
  o1 := 0
  o3 := 0
ENDINIT
EXEC
-- F1 block
  F1_w1[1..20] := i1 * F1_n0w[1..20]
  F1_b1[1..20] := F1_w1[1..20] + F1_n0b[1..20]
  F1_th[1..20] := tanh(F1_b1[1..20])
  FOR i:=1 to 20 DO F1_w2[i] := F1_th[i] * F1_n2w[i] ENDFOR
  o1 := F1_n2b
  FOR i:=1 to 20 DO o1 := o1 + F1_w2[i] ENDFOR
-- G1 block
  czfun(o2/o1) :=
 (G1_b[1]|z0+
      G1_b[2]|z-1+
      G1_b[3]|z-2)
  /
 (G1_a[1]|z0+
      G1_a[2]|z-1+
      G1_a[3]|z-2)
-- F2 block
  F2_w1[1..20] := o2 * F2_n0w[1..20]
  F2_b1[1..20] := F2_w1[1..20] + F2_n0b[1..20]
  F2_th[1..20] := tanh(F2_b1[1..20])
  FOR i:=1 to 20 DO F2_w2[i] := F2_th[i] * F2_n2w[i] ENDFOR
  o3 := F2_n2b
  FOR i:=1 to 20 DO o3 := o3 + F2_w2[i] ENDFOR
ENDEXEC
ENDMODEL
